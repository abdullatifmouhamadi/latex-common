% https://fr.wikibooks.org/wiki/LaTeX/Cr%C3%A9er_une_extension_ou_une_classe

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{blocks}[2019/08/22 Extension personnelle, V1.0]

% extensions

%\RequirePackage[latin1]{inputenc}
%\RequirePackage[T1]{fontenc}
%\RequirePackage{lmodern}
%\RequirePackage{graphicx}
%\RequirePackage[frenchb]{babel}

% commandes personnelles




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% EXERCICES
\declaretheorem[sibling=equation,name=Exercice]{exerciseb}



%\newenvironment{exercise}
%{\mdfsetup{
%backgroundcolor=gray!16,
%roundcorner=4pt,
%middlelinecolor=black,
%middlelinewidth=1pt,
%}
%\begin{exerciseb}\edef\exnr{\theequation}\hypertarget{ex:\theequation}{}
%\begin{mdframed}
%~\newline
%}
%{\par\bigskip \end{mdframed}\end{exerciseb}}



\Newassociation{solution}{Solution}{solutionfile}
%\renewenvironment{Solution}[1]{\noindent\hypertarget{sol:#1}{\textbf{Solution to \hyperlink{ex:#1}{#1}.}}\quad}{\par\bigskip}
\renewenvironment{Solution}[1]
{\mdfsetup{
linecolor=gray!50,
backgroundcolor=gray!16,
roundcorner=4pt, 
}
\begin{mdframed}
\noindent\hypertarget{sol:#1}{\textbf{Solution to \hyperlink{ex:#1}{#1}.}}\quad
}
{\par\bigskip \end{mdframed}}


\let\oldsolution\solution
\let\oldendsolution\endsolution
\renewenvironment{solution}{\par \hyperlink{sol:\exnr}{Solution.}\oldsolution}{\oldendsolution}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PROFESSOR/STUDENT

\newcommand{\Pointilles}[1][3]{
  \par\nobreak
  \noindent\rule{0pt}{1.5\baselineskip}% Provides a larger gap between the preceding paragraph and the dots
  \multido{}{#1}{\noindent\makebox[\linewidth]{\dotfill}\endgraf}% ... dotted lines ...
  \bigskip% Gap between dots and next paragraph
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% CENTER


\newcommand{\MilieuGras}[1]{\begin{center} \underline{\textbf{#1}}\end{center}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\newcommand{\Rectangle}[2]{\begin{center}
  \boxput*(0,1){\colorbox{white!0}{\textbf{#1}}}
    {\setlength{\fboxsep}{0pt}
    \fcolorbox{black!100}{white}{\begin{Bflushleft}
  \begin{minipage}{0.99\linewidth}
    \vspace{4mm}\par#2 \vspace{1.5mm}
  \end{minipage}
  \end{Bflushleft}}}
  \end{center}
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% OTHER
\newenvironment{iquote}{\begin{quote}\guillemotleft\itshape}{\guillemotright\end{quote}}
\newcommand{\Quote}[1]{\begin{iquote} #1 \end{iquote}}


\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}

