% https://fr.wikibooks.org/wiki/LaTeX/Cr%C3%A9er_une_extension_ou_une_classe



\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{ccf}[2020/01/01 Extension personnelle, V1.0]



%% cells

\renewcommand\theadalign{bc}
\renewcommand\theadfont{\bfseries}
\renewcommand\theadgape{\Gape[4pt]}
\renewcommand\cellgape{\Gape[4pt]}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% HEADER
\newcommand{\LWidth}{0.245}
\newcommand{\CWidth}{0.43}
\newcommand{\RWidth}{0.245}



\newcommand\NomHeader[1]{
    \begin{minipage}[b]{\LWidth\textwidth}
        \vspace{.1cm}
        \textbf{Nom :} %\dotfill
        %\vspace{.1cm}
    \end{minipage}
}

\newcommand\PrenomHeader[1]{
    \begin{minipage}[b]{\CWidth\textwidth}
        \vspace{.1cm}
        ~~~~~~~~~~~
        \textbf{Prénom :} %\dotfill
        %\vspace{.1cm}
    \end{minipage}
}


\newcommand\DateHeader[1]{
    \begin{minipage}[b]{\RWidth\textwidth}
        \vspace{.1cm}
        \textbf{Date :} %\dotfill
        %\vspace{.1cm}
    \end{minipage}
}


\newcommand\generalTitle[1]{
    \begin{minipage}[]{\CWidth\textwidth}
        \centering
        %\vspace{.1cm}
        ~\\~\\~
        \Large \textbf{BTS Systèmes Numériques} \\
        \normalsize Option B \'Electronique et Communication
        %\textbf{#1}

        %\vspace{.1cm}
    \end{minipage}
}

\newcommand\sectionTitle[1]{
    \begin{minipage}[]{\LWidth\textwidth}
        \centering
        %\vspace{.1cm}
        ~\\~\\~
         \textbf{\'Etablissement} \\
         \normalsize CFAI Poitou-Charentes%\\2019
    \end{minipage}
}

\newcommand\projectTitle[1]{
    \begin{minipage}[b]{\CWidth\textwidth}
        \centering
        \vspace{.1cm}
        \footnotesize #1
        %\vspace{0.1cm}
    \end{minipage}
}


\newcommand\sessionTitle[1]{
    \begin{minipage}[b]{\RWidth\textwidth}
        \vspace{.1cm}
        \centering
        \textbf{Session 2020} 
        %\vspace{.1cm}
    \end{minipage}
}


\newcommand\epreuveHeader[1]{
    \begin{minipage}[b]{\RWidth\textwidth}
        \centering
        \vspace{.1cm}
        \textbf{\'Epreuve E5}
        %\vspace{.1cm}
    \end{minipage}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FIN HEADER




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% BOXES


\newcommand{\competencesEvaluesBox}[2]{%
%\Cadre{\normalsize #1}{0.99\linewidth}{%
\begin{flushleft}
\large \textbf{#1:}

\begin{tabular}{| >{\centering}m{.05\textwidth} | m{.9045\textwidth} |  c | }
    \hline
    #2
   \hline
\end{tabular}
\end{flushleft}
%}
}


\newcommand{\supportsUtiliseesBox}[1]{%
%\Cadre{\normalsize #1}{0.99\linewidth}{%
\begin{flushleft}
\large \textbf{Supports utilisé pour l'épreuve:}

\begin{tabular}{ | m{.555\textwidth}   m{.4\textwidth} | }
    \hline
    #1
   \hline
\end{tabular}
\end{flushleft}
%}
}

\newcommand{\supportsUtiliseesBoxFilled}[1]{%
\supportsUtiliseesBox{
    Télécommunications, téléphonie et réseaux téléphoniques & $\Box$ \\
    \textbf{Informatique, réseaux} et infrastructures & $\boxtimes$ \\
    Multimédia, son et image, radio et télédiffusion  & $\Box$\\
    Mobilité et \textbf{systèmes embarqués}  & $\boxtimes$\\
    \textbf{Électronique} et informatique médicale  & $\boxtimes$\\
    \textbf{Mesure, instrumentation et microsystèmes}  & $\boxtimes$\\
    Automatique et robotique  & $\Box$\\
}
}


\newcommand{\equipeEvaluesBox}[1]{%
\large
\begin{flushleft}
    \begin{tabular}{| m{.31\textwidth} | m{.31\textwidth} |  m{.31\textwidth} | }
        \hline
        \rowcolor{lightgray}
        \textbf{Identification de l'équipe} & \textbf{Nom} & \textbf{Prénom} \\
        \hline
        #1
       \hline
    \end{tabular}
\end{flushleft}
}

\newcommand{\nombreElevesActivite}[1]{
    \framebox[\textwidth][l]{
        \textbf{Nombre d’élèves pour cette activité : #1}
    }
}


\newcommand{\ReponseBox}[1]{%
\fbox{
    \begin{minipage}[]{.975\linewidth}
    \underline{Réponse:}
    \Pointilles[#1]
    \end{minipage}
}
}

\newcommand{\EmptyReponseBox}[1]{%
\fbox{
    \begin{minipage}[]{.975\linewidth}
        #1
    \end{minipage}
}
}

%----------------------------------------------------------------------------- call for validation
\newcommand{\callForValidationBox}[1]{%
\begin{tabular}{ | m{.453\textwidth}  m{.504\textwidth} | }
    \hline
    \rowcolor{gray!40} \textbf{Cadre réservé au formateur} & ~ \\
    \rowcolor{gray!40} \makecell[l]{ $\Box$ \'Etape validée} & \makecell[l]{ $\Box$ \'Etape non validée ou non réalisée}  \\
    \hline
\end{tabular}
}


\newcommand{\callForVerificationBox}[1]{%
\begin{tabular}{ | m{.453\textwidth}  m{.504\textwidth} | }
    \hline
    \rowcolor{gray!40} \textbf{Cadre réservé au formateur} & ~ \\
    \rowcolor{gray!40} \makecell[l]{ $\Box$ Vérifications correctes} & \makecell[l]{ $\Box$ Vérifications non correctes ou non réalisées}  \\
    \hline
\end{tabular}
}


\newcommand{\callForParametrageBox}[1]{%
\begin{tabular}{ | m{.453\textwidth}  m{.504\textwidth} | }
    \hline
    \rowcolor{gray!40} \textbf{Cadre réservé au formateur} & ~ \\
    \rowcolor{gray!40} \makecell[l]{ $\Box$ Paramétrages correctes} & \makecell[l]{ $\Box$ Paramétrages non correctes ou non réalisés}  \\
    \hline
\end{tabular}
}


\newcommand{\callForDepannageBox}[1]{%
\begin{tabular}{ | m{.453\textwidth}  m{.504\textwidth} | }
    \hline
    \rowcolor{gray!40} \textbf{Cadre réservé au formateur} & ~ \\
    \rowcolor{gray!40} \makecell[l]{ $\Box$ Dépannage réussi} & \makecell[l]{ $\Box$ Dépannage non réussi ou non réalisé}  \\
    \hline
\end{tabular}
}


%----------------------------------------------------------------------------- call 


\newcommand{\dossierSituationOneHeader}[1]{%
\begin{center}

    \LARGE \textbf{PRESENTATION DES 3 MODULES}

    \textit{C5.1, C5.2 et C5.3} \\~

    \fbox{CCF1 – Promotion #1}
    
\end{center}
}



\newcommand{\dossierSituationTwoHeader}[1]{%
\begin{center}

    \LARGE \textbf{PRESENTATION DES 6 MODULES}

    \textit{C6.1, C6.2, C7.1, C7.2, C7.3 et C7.4} \\~

    \fbox{CCF2 – Promotion #1}
    
\end{center}
}


\newcommand{\presentationBox}[2]{%
\fbox{
\begin{minipage}[b]{.974\textwidth}
    \large
    #1

    #2
\end{minipage}
}
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% FIN BOXES









%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% COMMISSION

\def \commissionPageTitle {
    \begin{center}
        \begin{tabular}{|c|c|c|c|c|c|}
            %\hline
            %\multicolumn{6}{|c|}{January 2010 Results} \\
            \hline
            \multicolumn{1}{|l|}{ \sectionTitle } & \multicolumn{2}{c|}{\generalTitle{}} & \multicolumn{2}{c|}{\sessionTitle}\\
            \cline{4-5}
            \multicolumn{1}{|c|}{~ } &\multicolumn{2}{c|}{ ~ }& \multicolumn{2}{c|}{\epreuveHeader} \\
            \cline{1-1}\cline{5-5}
            %\multicolumn{1}{|c|}{\projectAim} &\multicolumn{2}{c|}{} & \multicolumn{2}{c|}{\epreuveHeader} \\
            \hline
        \end{tabular}
    \end{center}  
}



\newcommand\commissionHeader[2]{

    \commissionPageTitle

    \begin{center}
        \Large \textbf{Contrôle en Cours de Formation}\\
        \large #1
    \end{center}
}


\newcommand\commissionValidation[1]{

    \normalsize
    \begin{center}

        \textbf{Commission de Validation}
        \begin{tabular}{|  m{.225\linewidth} |  m{.225\linewidth} | m{.225\linewidth} | m{.225\linewidth} |}
            \hline
            \makecell{ \textbf{Nom~~~~Prénom} } &
            \makecell{ \textbf{Nom~~~~Prénom} } & 
            \makecell{ \textbf{Nom~~~~Prénom} } & 
            \makecell{ \textbf{Nom~~~~Prénom} }\\
            \hline
            \makecell{~\\~\\~}&~&~&~\\
            \hline
        \end{tabular}
        
        ~\\~
        
        \begin{tabular}{|  m{.4\linewidth} |  m{0.545\linewidth} |}
            \hline
            \makecell[l]{ ~\\ \textbf{Président de la commission de validation} ~\\ ~\\ } &
            \makecell[l]{ ~\\ \textbf{Nom~~~~Prénom} ~\\~\\ }\\
            \hline
        \end{tabular}
        \begin{tabular}{|  m{.2\linewidth} |  m{0.745\linewidth} |}
            %\hline
            \makecell[l]{ ~\\ \textbf{Date:} ~\\ ~\\ } &
            \makecell[l]{ ~\\ \textbf{ Signature } ~\\~\\ }\\
            \hline
        \end{tabular}
        
        \end{center}
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMISSION





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% CCF1
\newcommand\ccfHeader[2]{
    \begin{center}
        \begin{tabular}{|c|c|c|c|c|c|}
            %\hline
            %\multicolumn{6}{|c|}{January 2010 Results} \\
            \hline
            \multicolumn{1}{|l|}{ \sectionTitle } & \multicolumn{2}{c|}{\generalTitle{#1}} & \multicolumn{2}{c|}{\sessionTitle}\\
            \cline{4-5}
            \multicolumn{1}{|c|}{~ } &\multicolumn{2}{c|}{ ~ }& \multicolumn{2}{c|}{\epreuveHeader} \\
            \cline{1-1}\cline{5-5}
            %\multicolumn{1}{|c|}{\projectAim} &\multicolumn{2}{c|}{} & \multicolumn{2}{c|}{\epreuveHeader} \\
            \hline
            \multicolumn{1}{|c}{ \NomHeader } & \multicolumn{2}{c|}{ \PrenomHeader } & \multicolumn{2}{c|}{ \DateHeader } \\
            \hline
        \end{tabular}
    \end{center}


    \begin{center}
        \Large \textbf{Contrôle en Cours de Formation}\\
        \large #1
    \end{center}
}




\newcommand\competencesCCFOne[1]{
\competencesEvaluesBox{Compétences évaluées}{
    C5.1 & Préparer la solution et le plan d’action  \\
    \hline
    C5.2 & Mettre en œuvre une solution matérielle $/$ logicielle en situation \\
    \hline
    C5.3 & Effectuer la recette d’un produit avec le client \\
}
}


\newcommand\competencesCCFTwo[1]{
\competencesEvaluesBox{Compétences évaluées}{
    C6.1 & Superviser le fonctionnement d’un produit matériel$/$logiciel  \\
    \hline
    C6.2 & Analyser les comptes rendus d’exploitation \\
    \hline
    C7.1 & Diagnostiquer les causes d’un dysfonctionnement \\
    \hline
    C7.3 & Dépanner une installation matérielle$/$logicielle \\
    \hline
    C7.4 & Assurer la traçabilité \\
}
}




\newcommand\studentIdentityBox[1]{
\begin{tabular}{| m{.975\textwidth} |}
    \hline
    \textbf{Nom et Prénom de l'étudiant:} #1\\
   \hline
\end{tabular}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  FIN CCF1






